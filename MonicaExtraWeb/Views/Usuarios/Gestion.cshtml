@Html.Partial("~/Views/Componentes/_LoadingPage.cshtml")

@Html.Partial("~/Views/Componentes/_BotonesNavegacion.cshtml")

<hr />

<div id="manejoUsuarios" class="mt-5">
    <h2>Usuarios</h2>

    <hr />

    <button type="button" class="btn btn-success" onclick="$('#modalNuevoUsuario').modal('show');"><i class="material-icons" style="margin-right:10px; vertical-align:bottom">add</i>Nuevo Usuario</button>

    <div class="Tables mt-5" v-if="usuarios.length > 0">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Nombre</th>
                    <th scope="col">Estatus</th>
                </tr>
            </thead>
            <tbody>
                <tr v-for="item in usuarios">
                    <td>{{item.IdUsuario}}</td>
                    <td>{{item.NombreUsuario}}</td>
                    <td>{{item.Estatus}}</td>
                </tr>
        </table>
    </div>

    @*  MODAL PARA HACER CREAR UN USUARIO*@
    <div class="modal fade bd-example-modal-lg" id="modalNuevoUsuario" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="p-5">

                    <button type="button" class="btn btn-outline-dark" style="float:right;" onclick="$('#modalNuevoUsuario').modal('hide');"><i class="material-icons" style="margin-right:10px; vertical-align:bottom">close</i></button>

                    <h1>NUEVO USUARIO</h1>

                    <hr />

                    <div class="card-body">
                        <div class="alert alert-info" role="alert">
                            <p>La Contraseña por defecto del usuario será: 123456abc!</p>
                            <p>Esta se cambiará obligatoriamente al momento del primer acceso del usuario a su cuenta.</p>
                        </div>

                        <form>
                            <div class="row">
                                <div class="form-group col-12 col-lg-6">
                                    <label>Nombre</label>
                                    <input id="inptNombreNuevoUsuario" type="email" class="form-control" placeholder="Nombre" v-model="nombre">
                                </div>
                                <div class="form-group col-12 col-lg-6">
                                    <label>Apellidos</label>
                                    <input id="inptApellidosNuevoUsuario" type="email" class="form-control" placeholder="Apellidos" v-model="apellidos">
                                </div>

                                <div class="form-group col-8">
                                    <label>Nombre de Acceso</label>
                                    <input type="email" class="form-control" placeholder="--" disabled v-model="nombreUsuario">
                                </div>

                                <div class="col-4 d-flex align-items-center">
                                    <button id="btnGenerarUserName" v-on:click="GenerarUserName()" type="button" class="btn btn-info" style="width:100%" disabled>Generar Nombre de Acceso</button>
                                </div>

                                <div class=" col-12">
                                    <label>Rol del Usuario</label>
                                    <select class="custom-select custom-select-lg" disabled>
                                        <option selected disabled>Seleccione el Rol (Permisos)</option>
                                    </select>
                                </div>
                            </div>

                            <hr />

                            <button id="btnAgregarNuevoUsuario" onclick="alert('Funcionalidad Solo funcionará hasta que se pase la DB a Azure')" type="button" class="btn btn-info" style="width:100%" disabled><i class="material-icons" style="margin-right:10px; vertical-align:bottom">add</i>Agregar</button>
                        </form>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

@section scripts{
    <script>
        document.getElementById('btnUsuario').innerHTML = window.localStorage.getItem('NombreUsuario');
    </script>
    <script src="~/Scripts/js/Administracion/Usuarios.js"></script>
}